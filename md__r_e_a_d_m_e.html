<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rsvs3D: C++ code structure</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rsvs3D
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">Codes for the c++ implementation of the 3D RSVS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">C++ code structure </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <code>SRCC</code> folder contains the C++ source files used to build the executable for the 3D-RSVS software.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Contents</h1>
<p>The files and folders inside the <code>SRCC/</code> folder are:</p>
<h2>Source directories</h2>
<ul>
<li><code>incl</code>: Contains the "includes" of the program, this encompasses header files (<code>hpp</code>) and template implementations (<code>cpp</code> files that need to be included).</li>
<li><code>src</code>: Contains the implementation of the software.</li>
<li><code>modules</code>: Contains git sub-modules used for managing build time dependencies of the software.</li>
</ul>
<h2>Makefiles</h2>
<ul>
<li><code>makefile</code>: The main makefile defining compilation recipes, important ones are:<ul>
<li><code>all</code>: Build the complete executable with main, and test suite.</li>
<li><code>distribution</code>: Builds the executable without any test code and with optimisation level of 3.</li>
</ul>
</li>
</ul>
<p>The main makefile calls on either the default linux or the default windows configuration depending on the OS:</p>
<ul>
<li><code>makelinux.mk</code>: Default configuration for building the program in linux (tested on Ubuntu 20.04).</li>
<li><code>makewin.mk</code>: Default configuration for the building the program on windows (tested on windows 10).</li>
</ul>
<h2>Supporting directories</h2>
<ul>
<li><code>docs</code>: Doxygen configuration file for building the API docs for the program. See the <a class="el" href="md_docs__r_e_a_d_m_e.html">docs/README</a> for instructions on compiling the documentation. The compiled documentation can be found at: <a href="https://payoto.github.io/rsvs3d/">payoto.github.io/rsvs3d</a>.</li>
<li><code>config</code>: Template input files for the RSVS process, each of the JSON files can be called by doing ``</li>
</ul>
<h2>Automatically generated directories</h2>
<ul>
<li><code>bin</code>: The compiled binaries go there.</li>
<li><code>.d</code>: Dependency management artifact to ensure make rebuilds objects when headers change.</li>
<li><code>obj</code>: Directory for the compiled objects (one per <code>.cpp</code> file in <code>src</code>).</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
Building</h1>
<p>In order to build the fully featured executable run:</p>
<div class="fragment"><div class="line">make all</div>
</div><!-- fragment --><p>This will generate the <code>RSVS3D</code> executable. When developing a specific part of the program it can be desirable to build a smaller executable which only compiles parts of the program being tested. The <code>testnew</code> and <code>testall</code> recipes in the makefile fill that role:</p>
<div class="fragment"><div class="line">make testnew</div>
</div><!-- fragment --><p>will create the <code>test_RSVS3D</code> executable with debug flags.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Usage</h1>
<p>When the <code>RSVS3D</code> executable has been built the <code>--help</code> flag can be used to return the command line flags.</p>
<div class="fragment"><div class="line">$ ./RSVS3D --help</div>
<div class="line">Program for the execution of the Restricted-Surface Volume of Solid in 3D</div>
<div class="line">Usage:</div>
<div class="line">  ./RSVS3D [OPTION...]</div>
<div class="line"> </div>
<div class="line">  -h, --help  Print help</div>
<div class="line"> </div>
<div class="line"> Execution control options:</div>
<div class="line">  -n, --noexec [=STRING(=./noexec_config.json)]</div>
<div class="line">                                Do not execute RSVS process, will only parse</div>
<div class="line">                                the inputs and output the resulting</div>
<div class="line">                                configuration file to &#39;arg&#39;</div>
<div class="line">  -e, --exec                    Execute RSVS. With no command line argument</div>
<div class="line">                                the program does nothing.</div>
<div class="line">      --test [=STRING(=short)]  Executes specified tests. requires</div>
<div class="line">                                compilation without flag RSVS_NOTESTS.</div>
<div class="line"> </div>
<div class="line"> Parameter configuration options:</div>
<div class="line">  -u, --use-config STRING       Use one of the predefined configurations</div>
<div class="line">                                stored in the code.</div>
<div class="line">  -l, --load-config FILES       Load configuration file in JSON format to set</div>
<div class="line">                                parameter structure. Multiple files can be</div>
<div class="line">                                specified and will be processed in order of</div>
<div class="line">                                appearance.</div>
<div class="line">  -p, --param KEY:VAL           Define a parameter manually on the command</div>
<div class="line">                                line. The format must be a flat key into the</div>
<div class="line">                                JSON configuration: (e.g.: &#39;/snak/maxsteps:50&#39;</div>
<div class="line">                                will set &#39;param.snak.maxsteps=50&#39;)</div>
<div class="line">      --default-config [=FILE(=default_config)]</div>
<div class="line">                                Output the default configuration to a file.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Testing</h1>
<p>Tests are handled by a custom testing framework developed for this project:</p>
<ul>
<li>the testing framework is defined in <code><a class="el" href="test_8hpp.html" title="Provides the custom testing system used by the RSVS3D project.">incl/test.hpp</a></code>;</li>
<li>calling the framework is done in <code><a class="el" href="test_8cpp_source.html">src/test/test.cpp</a></code>;</li>
<li>the actual test functions are defined in the <code>cpp</code> files they correspond to and all start with <code>Test_</code>.</li>
</ul>
<p>The test suite can be executed by building the program with <code>make all</code> and then calling <code>./RSVS3D --test</code> which runs a subset of the tests. Running <code>./RSVS3D --test=all</code> will run all the tests, which is very slow, and fails (at the moment). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
